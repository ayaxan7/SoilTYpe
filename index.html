<!doctype html>
<html>
    <head>
        <title>Soil Type Finder</title>
        <script>
            async function fetchData() {
                const response = await fetch(
                    "https://script.googleusercontent.com/macros/echo?user_content_key=c4Rk2vVH6bVsjfpxnYDoth8kRPaj82y5cMakcO2zjl_HYZuBswfRZrSCTgGqFBm3_RXy4qtJDRE89jiBJJPhkCC4zcGBuu1Cm5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnLaNPASjBqEUQXcIQKl_YuOplfX8nHs_3SwaVN0ejXAx1wmST8RSp6Rfb_l90VPKAMHcrsv4XrGY0a_LDfVk7HQ6j2fA4S-kQQ&lib=Mgm76Ul1SdDz-8dWMZ4C91iJes7BewgY5",
                );
                const data = await response.json();
                return data;
            }

            function getSoilType(number, data) {
                for (let item of data) {
                    if (number >= item.rangeStart && number <= item.rangeEnd) {
                        return item.soilType;
                    }
                }
                return "Unknown";
            }

            async function findSoilType() {
                const resultElement = document.getElementById("result");
                resultElement.textContent = "Fetching data..."; // Show buffering message

                const number = parseInt(
                    document.getElementById("numberInput").value,
                );
                const data = await fetchData();

                const soilType = getSoilType(number, data);
                resultElement.textContent = "Soil Type: " + soilType;
            }
        </script>
    </head>
    <body>
        <h1>Find Soil Type</h1>
        <label for="numberInput">Enter a number:</label>
        <input type="number" id="numberInput" />
        <button onclick="findSoilType()">Suggest me a crop</button>
        <p id="result"></p>
    </body>
</html>
